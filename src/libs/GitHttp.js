!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).GitHttp={})}(this,function(t){"use strict";async function e(t,e){let r=function t(e){var r;if(e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();if(e[Symbol.iterator])return e[Symbol.iterator]();if(e.next)return e;let n;return n=[r=e],{next:()=>Promise.resolve({done:0===n.length,value:n.pop()}),return:()=>(n=[],{}),[Symbol.asyncIterator](){return this}}}(t);for(;;){let{value:n,done:a}=await r.next();if(n&&await e(n),a)break}r.return&&r.return()}async function r(t){let r=0,n=[];await e(t,t=>{n.push(t),r+=t.byteLength});let a=new Uint8Array(r),o=0;for(let u of n)a.set(u,o),o+=u.byteLength;return a}async function n({onProgress:t,url:e,method:n="GET",headers:a={},body:o}){o&&(o=await r(o));let u=await fetch(e,{method:n,headers:a,body:o}),s=u.body&&u.body.getReader?function t(e){if(e[Symbol.asyncIterator])return e;let r=e.getReader();return{next:()=>r.read(),return:()=>(r.releaseLock(),{}),[Symbol.asyncIterator](){return this}}}(u.body):[new Uint8Array(await u.arrayBuffer())];for(let[i,f]of(a={},u.headers.entries()))a[i]=f;return{url:u.url,method:u.method,statusCode:u.status,statusMessage:u.statusText,body:s,headers:a}}t.default={request:n},t.request=n,Object.defineProperty(t,"__esModule",{value:!0})});